<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <title>Wikipedia Viewer</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<script src="https://code.jquery.com/jquery-2.2.1.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<body>
<div class="container">
    <div class="zero row">
        <div class="form col-xs-12">
        <a href="https://en.wikipedia.org/wiki/Special:Random" class="link-random">Click here for a random article</a>
</div>
    <div class="form col-xs-12" id="all-box">
        <input class='col-xs-10' id="searchbox" type="text" search="article" placeholder="">
        <a href="#"><span class="glyphicon glyphicon-search col-xs-1" id="search" data-toggle="tooltip" title="search" >
      </span>
            </a>
        <!--<span class="glyphicon bar col-xs-1" id="line">-->
        <!--<b>|</b>-->
            <!--</span>-->
            <!--<-->
        <a href="#"><span class="glyphicon glyphicon-remove col-xs-1" id="remove" data-toggle="tooltip" title="remove" >
      </span>
        </a>
</div><!-- /input-group -->
</div>
    <div class="one row">
        <ul></ul>
        </div>
    </div>
</body>
<script>
  $(document).ready(function() {

      $('#search').click(function () {
          $('#all-box').css('width','100%')
          var result = $('#searchbox').val();
          $('.one').text('');
          $('.zero').removeClass().addClass('new row');
          if (result!=0){
              $('#search').css('display','none');
              $('#remove').css('display','inline');
          } else {
              $('#search').css('display','inline');
              $('#remove').css('display','none');
          }

          $.ajax({
              url: 'https://en.wikipedia.org/w/api.php?action=query&list=search&format=json&srsearch=' + result + '&format=json&callback=?',
              dataType: 'json',
              type: 'GET',
              headers: {
                  'Api-User-Agent': 'Example/1.0'
              },
              success:
                      function (data) {
//                  $('.one').html(JSON.stringify(data));
//                  console.log(data);
                          showArticles(data);
                      },
              error: function (err) {
                  console.log(err);
              }

          });
          function showArticles(data){
              var i;
              for (i=0;i<10;i++) {
                  console.log(data.query.search[i]);
                  $('.one').append("<a href='//en.wikipedia.org/wiki/"+result+"'><li class='article'><h4>" + data.query.search[i].title + "</h4>" +"<p>"+data.query.search[i].snippet+"</p>" + "</li></a>"+'<br>');
              }

          }


      });

      $('#searchbox').keypress(function (e) {
          $('#all-box').css('width','100%');
          if (e.which == 13) {
              var result = $('#searchbox').val();
              $('.one').html('');
              $('.zero').removeClass().addClass('new row');


              $.ajax({
                  url: 'https://en.wikipedia.org/w/api.php?action=query&list=search&format=json&srsearch=' + result + '&format=json&callback=?',
                  dataType: 'json',
                  type: 'GET',
                  headers: {
                      'Api-User-Agent': 'Example/1.0'
                  },
                  success: function (data) {
//                  $('.one').html(JSON.stringify(data));
//                  console.log(data);
                      showArticles(data);
                  },
                  error: function (err) {
                      console.log(err);
                  }

              });
              function showArticles(data){
                  var i;
                  for (i=0;i<10;i++) {
                      console.log(data.query.search[i]);
                      $('.one').append("<a href='//en.wikipedia.org/wiki/"+result+"'><li class='article'><h4>" + data.query.search[i].title + "</h4>" +"<p>"+data.query.search[i].snippet+"</p>" + "</li></a>"+'<br>');
                  }

              }
          }
      });
      function relocate() {
          $('#remove').on('click', function () {
              $('.one').text('');
              $('#searchbox').val('');
              $('.new').removeClass().addClass('zero row');
              $('#search').css('display','inline');
              $('#remove').css('display','none');
              $('#all-box').css('width','250px');
          });
      }
      relocate();
     $('#searchbox').keypress(function () {
         console.log('hi');
         var res = $('#searchbox').val();
         if (res!=""){
             $('#search').css('display','none');
             $('#remove').css('display','inline')
         }
     });
//      http://ios7colors.com/
//      https://material.google.com/style/color.html#
  });
</script>
</html>