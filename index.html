<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <title>Wikipedia Viewer</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
</head>
<script src="https://code.jquery.com/jquery-2.2.1.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<style>
    body{
        background-color: #39404B;
        background: cover;
    }
    a, .link-random:hover {
        text-decoration: none;
        transition-property: color,font-size ;
    }
    .link-random{
        text-decoration: none;
        color: green;
        font-size: 18px;
        font-weight: 500;
        position: relative;
        font-family: 'Courier New',sans-serif;
        text-align: center;
        margin: 300px auto auto auto;
    }
    a:hover{
        text-decoration: none;
    }
    .container{
        background-color: aquamarine;
        position: relative;
        width: 50%;
        background-color: inherit;
    }
    .zero {
        font-family: 'Courier New',sans-serif;
       text-align: center;
        position: relative;
        margin: 300px auto auto auto;
    }

.one{
    margin: 0;
    padding: 0;
    font-family: 'Courier New',sans-serif;
    position: relative;
}
    .article{
        margin: 10px auto;
        padding: 20px auto;
        background-color: gainsboro;
        opacity: 0.9;
        position: relative;
    }
li>h4{
    color : darkred;
    line-height: 2;
}
li{
    list-style: none;
    padding: 10px 20px 10px 20px;
    margin: 0 auto;
    box-shadow: 0 0 5px 5px #dddddd;
    position: relative;
}
    li:hover{
        background-color: honeydew;
        box-shadow: 0 0 5px 5px honeydew;
    }
    #searchbox{
        border: none;
        /*float: left;*/
        position: relative;
        padding-left: 10px;
        margin: 0;
        font-size: 20px;
        background-color: inherit;
        line-height: 40px;
        outline: none;
        color:darkgrey;
        background: none;
        font-family: 'Courier New',sans-serif;
        letter-spacing: 1px;
        cursor: auto;
        display: inline-block;
    }

    #search{

        font-size:20px;
        line-height: 40px;
        padding: 0;
        text-align: center;
        color:green;
        float:right;
    }
    #all-box{
        width: 50%;
        border:solid 3px green;
        padding: 0 auto;
        margin: 30px 25%;
        /*position: relative;*/
        z-index: 20;
        transition-property: width,margin;
        transition-duration: 1s;
        transition-timing-function: ease-out;
        display: inline-block;
    }
    #all-box:hover,#all-box:focus{
        width:100%;
        margin: 30px auto;
    }
    #all-box:active{
        width: 100%;
        margin: 30px auto;

    }


#remove{
    font-size:20px;
    line-height: 40px;
    padding: 0;
    text-align: center;
    color:green;
    display: none;
    float:right;
}
    #line{
        font-size:30px;
        line-height: 40px;
        padding: 0;
        text-align: center;
        color:green;
        font-weight: 700;
        margin-top: -10px;
    }
    .new{
        font-family: 'Courier New',sans-serif;
        text-align: center;
        position: relative;
        margin: 70px auto 20px auto;
        position: relative;

    }


</style>
<body>
<div class="container">
    <div class="zero row">
        <div class="form col-xs-12">
        <a href="https://en.wikipedia.org/wiki/Special:Random" class="link-random">Click here for a random article</a>
</div>
    <div class="form col-xs-12" id="all-box">
        <input class='col-xs-10' id="searchbox" type="text" search="article" placeholder="">
        <a href="#"><span class="glyphicon glyphicon-search col-xs-1" id="search" data-toggle="tooltip" title="search" >
      </span>
            </a>
        <!--<span class="glyphicon bar col-xs-1" id="line">-->
        <!--<b>|</b>-->
            <!--</span>-->
            <!--<-->
        <a href="#"><span class="glyphicon glyphicon-remove col-xs-1" id="remove" data-toggle="tooltip" title="remove" >
      </span>
        </a>
</div><!-- /input-group -->
</div>
    <div class="one row">
        <ul></ul>
        </div>
    </div>
</body>
<script>
  $(document).ready(function() {

      $('#search').click(function () {
          $('#all-box').css('width','100%')
          var result = $('#searchbox').val();
          $('.one').text('');
          $('.zero').removeClass().addClass('new row');
          if (result!=0){
              $('#search').css('display','none');
              $('#remove').css('display','inline');
          } else {
              $('#search').css('display','inline');
              $('#remove').css('display','none');
          }

          $.ajax({
              url: 'https://en.wikipedia.org/w/api.php?action=query&list=search&format=json&srsearch=' + result + '&format=json&callback=?',
              dataType: 'json',
              type: 'GET',
              headers: {
                  'Api-User-Agent': 'Example/1.0'
              },
              success:
                      function (data) {
//                  $('.one').html(JSON.stringify(data));
//                  console.log(data);
                          showArticles(data);
                      },
              error: function (err) {
                  console.log(err);
              }

          });
          function showArticles(data){
              var i;
              for (i=0;i<10;i++) {
                  console.log(data.query.search[i]);
                  $('.one').append("<a href='//en.wikipedia.org/wiki/"+result+"'><li class='article'><h4>" + data.query.search[i].title + "</h4>" +"<p>"+data.query.search[i].snippet+"</p>" + "</li></a>"+'<br>');
              }

          }


      });

      $('#searchbox').keypress(function (e) {
          $('#all-box').css('width','100%');
          if (e.which == 13) {
              var result = $('#searchbox').val();
              $('.one').html('');
              $('.zero').removeClass().addClass('new row');


              $.ajax({
                  url: 'https://en.wikipedia.org/w/api.php?action=query&list=search&format=json&srsearch=' + result + '&format=json&callback=?',
                  dataType: 'json',
                  type: 'GET',
                  headers: {
                      'Api-User-Agent': 'Example/1.0'
                  },
                  success: function (data) {
//                  $('.one').html(JSON.stringify(data));
//                  console.log(data);
                      showArticles(data);
                  },
                  error: function (err) {
                      console.log(err);
                  }

              });
              function showArticles(data){
                  var i;
                  for (i=0;i<10;i++) {
                      console.log(data.query.search[i]);
                      $('.one').append("<a href='//en.wikipedia.org/wiki/"+result+"'><li class='article'><h4>" + data.query.search[i].title + "</h4>" +"<p>"+data.query.search[i].snippet+"</p>" + "</li></a>"+'<br>');
                  }

              }
          }
      });
      function relocate() {
          $('#remove').on('click', function () {
              $('.one').text('');
              $('#searchbox').val('');
              $('.new').removeClass().addClass('zero row');
              $('#search').css('display','inline');
              $('#remove').css('display','none');
              $('#all-box').css('width','250px');
          });
      }
      relocate();
     $('#searchbox').keypress(function () {
         console.log('hi');
         var res = $('#searchbox').val();
         if (res!=""){
             $('#search').css('display','none');
             $('#remove').css('display','inline')
         }
     });
//      http://ios7colors.com/
//      https://material.google.com/style/color.html#
  });
</script>
</html>